<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>トップページ編集/専ブラ設定@Yakumo BBS Script</title>
</head>

<body>

<h1 align="center">Yakumo BBS Script</h1>
<div align="center">
  <center>
  <table border="1" width="830" cellspacing="0">
    <tr>
      <td width="229" bgcolor="#C0C0F0" valign="top">
      </center>
      <p style="margin-left: 5pt; margin-right: 5pt">
      <b><br>
      </b>
      <a href="index.htm">概要</a>
          <p style="MARGIN-LEFT: 5pt; MARGIN-RIGHT: 5pt"><a href="version.htm">更新履歴</a>
      <p style="margin-left: 5pt; margin-right: 5pt"><a href="http://www.vector.co.jp/soft/unix/net/se494658.html" target="_blank">ダウンロード</a></p>
      <p style="margin-left: 5pt; margin-right: 5pt"><a href="server.htm">サーバーについて</a></p>
      <p style="margin-left: 5pt; margin-right: 5pt"><a href="install.htm">インストール方法</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="init1.htm">初期設定</a><b><br>
      　</b><a href="init1.htm#1">パーミッション設定</a><br>
      　<a href="init1.htm#2">スクリプト初期化</a><br>
      　<a href="init1.htm#3">文字コード設定</a><br>
      　<a href="init2.htm">掲示板設定</a><br>
      　<a href="init3.htm">ボード初期設定</a><br>
      　<a href="init3.htm#2">ローカルルール初期設定</a><br>
      　<a href="init3.htm#3">終了レス初期設定</a><br>
      　<a href="init3.htm#4">バナー初期設定</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="category.htm">カテゴリ設定</a><br>
      　<a href="category.htm#1">カテゴリ名称登録</a><br>
      　<a href="category.htm#2">未登録ボード一覧</a><br>
      　<a href="category.htm#3">ボード編集</a><br>
      　<a href="category.htm#4">カテゴリ名称変更</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="board.htm#1">ボード作成</a><br>
      <a href="board.htm#2">ボード削除</a><br>
      <a href="board.htm#3">ボードを見る</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="picture.htm#1">画像アップロード</a><br>
      <a href="picture.htm#2">画像ファイル削除</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="setting.htm">ボード設定変更</a><br>
      <a href="rule.htm#1">
      ローカルルール編集</a><br>
      <a href="rule.htm#2">
      バナー編集</a><br>
      <a href="rule.htm#3">index.html更新</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt">
      <a href="edit.htm#1">
      終了レス編集</a><br>
      <a href="edit.htm#2">
      携帯版名無し編集</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="ng.htm#1">規制設定</a><br>
      <a href="ng.htm#2">
      規制ログ閲覧編集</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="cap.htm#1">キャップ設定</a><br>
      <a href="cap.htm#2">
      規制外トリップ設定</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="top_page.htm#1">トップページ編集</a><br>
      　<a href="top_page.htm#2">掲示板タイトル編集</a><br>
      　<a href="top_page.htm#3">トップページ更新</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="top_page.htm#4">専ブラ設定</a><br>
      　<a href="top_page.htm#5">掲示板タイトル編集</a><br>
      　<a href="top_page.htm#6">BBS_KEY編集</a><br>
      　<a href="top_page.htm#7">専ブラ設定更新</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="delete.htm#1">レス削除</a><br>
      <a href="delete.htm#2">
      レス復活</a><br>
      <a href="delete.htm#3">
      投稿画像削除</a><br>
      <a href="delete.htm#4">
      レス透明削除</a><br>
      <a href="thread1.htm#1">
      スレッド停止</a><br>
      <a href="thread1.htm#2">
      管理者投稿</a><br>
      <a href="thread1.htm#3">
      スレッド再開</a><br>
      <a href="thread1.htm#4">
      スレタイ変更</a><br>
      <a href="thread2.htm#1">
      スレッド消去</a><br>
      <a href="thread2.htm#2">
      ボード間移動</a><br>
      <a href="thread2.htm#3">
      過去ログ倉庫移動</a><br>
      <a href="thread2.htm#4">
      索引再構築</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="dat.htm#1">datアップロード</a><br>
      <a href="dat.htm#2">
      掲示板再構築</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="maintenance.htm#1">メンテナンス告知</a><br>
      　<a href="maintenance.htm#2">メンテナンス告知編集</a><br>
      　<a href="maintenance.htm#3">メンテナンス告知実行</a><br>
      　<a href="maintenance.htm#4">メンテナンス告知解除</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="admin_owner.htm">管理者設定（オーナー）</a><br>
      <a href="admin_master.htm">
      管理者設定（マスター）</a><br>
      <a href="admin_category.htm">
      管理者設定（カテゴリ）</a><br>
      <a href="admin_board.htm">
      管理者設定（ボード）</a></p>
      <p style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a href="http://yakumotatu.com/bbs/freewear/">サポート掲示板</a>
      <p style="margin-left: 5pt; margin-right: 5pt"><a href="http://yakumotatu.com/">サイトトップ</a>      
    </td>
      <td width="605" valign="top">
        <h3 style="line-height: 150%; margin-left: 5pt; margin-right: 5pt"><a name="1">トップページ編集</a></h3>
        <p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　掲示板トップページはボードを追加したり削除したりする度に変更しなくてはならず、頻度は低いとはいえ編集するのは面倒ですよね。その面倒の為にボードの追加を控えたりして。他の掲示板スクリプトを見てもボードのトップページまでは更新するのに、掲示板全体のトップページ更新は考慮されていないみたいですね。そういう訳で、このトップページ編集機能は専ブラ設定と並ぶYakumo          
        BBS Scriptの目玉機能です。         
        <p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　トップページ編集機能の使い方を説明する前に、仕組みを解説しておきましょう。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　携帯とパソコンで同じindex.htmlを閲覧しても、それぞれ専用の別ページを表示するにはどうしたら良いでしょう？スクリプトを使って処理を振り分ける方法も有るかもしれませんが、このスクリプトではフレームを使うという簡単な方法をとっています。<br>
        　携帯のブラウザではフレームが読めない為に、普通にフレームを使ったページを表示しようとすると、フレームに対応していないブラウザですからなんちゃらかんちゃらといったメッセージが出ます。このメッセージ部分に携帯専用のトップページを作ります。弊害として、パソコンでフレームに対応していないブラウザを使うと携帯用のトップページを表示してしまう事になりますが、それはしょうがないと割り切ります。また、携帯のブラウザでもフレームが読める物も有るかもしれません。これも仕方が無いと割り切ります。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　トップページのデザインはスクリプト作者が押し付けるのではなくユーザー独自に設計したいものですね、洗練されたデザインなら押し付けられても良いかもしれませんが、作者にはそんなセンスは有りません。そんな訳で運営者の方で任意にデザインしたテンプレートファイルを用意して貰い、スクリプト側ではそこに書かれた特定の文字列をボードやカテゴリ名、掲示板タイトルに置き換えてトップページを作成します。とはいえ説明だけでは分かりにくいので２種類のサンプルテンプレートを用意しています。まずはどちらかのテンプレートファイル群をホームページ作成ソフト等で変更して使ってみて下さい。<br>
        　テンプレートの内、ファイル名が決まっているのは次の４つです。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　　<b>tmp_index.html</b>　　　         
        フレームの定義及び携帯用トップページです。<br>
        　　<b>tmp_bbsmenu.html</b>　パソコン用トップページの中身です。<br>
        　　<b>tmp_category.html</b>　パソコン用、ボードが少ないと使わない場合が多いです。<br>
        　　<b>tmp_category_mb.html </b>　携帯用、同じくボードが少ないと使わないでしょう。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　サンプルには<b>body.html</b>というファイルも有りますが、これは<b>tmp_index.html</b>の記述を書き換えれば別の名前にしても構いません。<br>
        　<b>tmp_index.html</b>と<b>tmp_category_mb.html</b>は携帯から閲覧しますので文字コードはShift         
        JISでなければなりません。<b>tmp_bbsmenu.html</b>と<b>tmp_category.html</b>はスクリプトから変更しますので、掲示板を運用する文字コードで記述しなければなりません。他のファイルの文字コードはどうでも良いです。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　名前の決まっているテンプレートに記述された文字列をスクリプトで置換します。<br>
        　　<b>BBS_TITLE</b>　　掲示板タイトル<br>
        　　<b>BBS_SUBTITLE</b>　　掲示板サブタイトル<br>
        　　<b>BBS_LIST</b>　　ボードやカテゴリへのリンク<br>
        　　<b>CATEGORY_NAME</b> カテゴリ名（tmp_category.html/tmp_category_mb.htmlのみ）<br>        
        　　<b>BBS_KEY</b>　　専ブラ設定ファイルが有るディレクトリ（専ブラ設定参照）<br>
        　　<b>tmp_</b>　　　　　消去
        <p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　この文字列を置き換えてファイル名からtmp_を取り除いたものを作成します。カテゴリ用のファイルは作成しない場合も有れば複数作成する場合も有ります。ファイル名の頭にtmp_が付かない物については何もしません。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　BBS_LISTはカテゴリとボード名に置き換えるか、カテゴリ名のみにするかが選択できます。カテゴリ名のみにした場合にはカテゴリに登録されているボードのリンクを記述したページがtmp_category.htmlやtmp_category_mb.htmlを変換して作成されます。カテゴリが複数あれば複数ファイルが作成されます。<br>
        　また、BBS_LISTは変換の際にボード一覧を縦に並べるか、横に並べるかが選択できます。パソコン用のページではウィンドウの開き方（ターゲット）も設定できます。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　テンプレートファイルが用意できていれば、メインメニューから「トップページ編集」を選択します。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt" align="center"><img border="0" src="images/toppage1.gif" width="170" height="126"><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt"><b><a name="2">掲示板タイトル編集</a></b><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　掲示板の名称を設定します。なるべく他所で使われていない名称を考えて下さい。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt" align="center"><img border="0" src="images/toppage2.gif" width="165" height="162"><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　掲示板タイトルや掲示板サブタイトルが何処に表示されるかは、テンプレートファイルの設定によって変わります。掲示板サブタイトルを省略すると掲示板タイトルが設定されます。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt"><b><a name="3">トップページ更新</a></b><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　上部に何やらごちゃごちゃと説明が書かれていますが、このページの上の方で説明した内容を簡単に触れています。テンプレートの書き方を忘れた時にいちいちマニュアルを見るのは面倒そうなので・・・<br>
        　なお、トップページ用のテンプレートファイルをアップしていない場合は掲示板のトップページは変更しませんが、掲示板一覧(bbstable.html）を更新しますので、トップページ編集機能を使わなくても、ボードの追加や削除、名称変更をした場合は「トップページ更新」を実行してください。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt" align="center"><img border="0" src="images/toppage3.gif" width="450" height="358"><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　下段の左側で携帯用のページを定義します。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt" align="center"><img border="0" src="images/toppage4.gif" width="323" height="202"><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　設定できる内容は次の通り<br>
        <b>表示内容</b><br>
        　カテゴリとボード<br>
        　カテゴリ名称のみ<br>
        　全てのボード<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　カテゴリとボードではカテゴリ名称の後に登録されているボードのリンクを並べます。<br>
        　カテゴリ名称のみではカテゴリに登録されているボードへのリンクを別ページに作成します。<br>
        　全てのボードではカテゴリ名称を表示せずボードへのリンクを並べます。カテゴリに登録していないボードは無視されますが、カテゴリ自体を登録していなければ全てのボードのリンクを並べます。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">
        <b>表示形式</b><br>
        　縦１列<br>
        　横に並べる<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">&nbsp;下段の右側でパソコン用のページを定義します。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt" align="center"><img border="0" src="images/toppage5.gif" width="361" height="203"><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　設定できる内容は<br>
        <b>表示形式</b><br>
        　カテゴリとボード<br>
        　カテゴリ名称のみ<br>
        　全てのボード<br>
        <b>ターゲット</b><br>
        　標準（無し）<br>
        　同じウィンドウ<br>
        　ページ全体<br>
        　新規ウィンドウ<br>
        <b>表示形式</b><br>
        　縦１列<br>
        　横に並べる<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　実行ボタンをクリックすると設定した内容で、トップページが作成されます。少し時間が掛かりますけど。<br>
        　ボードの追加や削除、カテゴリの編集等をしたら、この「トップページ編集」を実行しましょう。
        <hr>
        <p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt"><b><a name="4">専ブラ設定</a></b><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　２ちゃんねる専用ブラウザに対する設定をします。メインメニューから「専ブラ設定」を選択してクリックします。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt" align="center"><img border="0" src="images/browser1.gif" width="171" height="129"><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt"><b><a name="5">掲示板タイトル編集</a></b><br>
        　「トップページ編集」と同じ物です。既にトップページ編集で設定していれば実行する必要は有りません。専ブラのによっては掲示板名称として表示されますので、なるべく他所で使われていない物を考えて下さい。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt" align="center"><img border="0" src="images/toppage2.gif" width="165" height="162"><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt"><b><a name="6">BBS_KEY編集</a></b><br>
        　２ちゃんねる専用ブラウザの設定ファイルを置くディレクトリを登録します。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt" align="center"><img border="0" src="images/browser2.gif" width="137" height="127"><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　２チャンネル専用ブラウザの中には、設定ファイルが置かれたディレクトリと同じ名前のフォルダを作成してログを保管するタイプの物が有ります。なので他所の掲示板で使われていそうなのは避けて、独自の名称を考えて設定して下さい。通常は掲示板の名称を半角英数や記号を使って表記します。<br>
        　既に設定したBBS_KEYを変更する事もできますが、一般利用者に公開した後は余程の理由が無い限り変更しない方が良いでしょう。<br>
        　空白にして実行ボタンをクリックすると専ブラ設定を削除します。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　掲示板タイトルとBBS_KEYが設定されるとメニューに「専ブラ設定更新」という項目が現れます。（2ch_browserディレクトリが無いと表示されません）<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt" align="center"><img border="0" src="images/browser3.gif" width="176" height="146"><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt"><b><a name="7">専ブラ設定更新</a></b><br>
        　BBS_KEYで設定したディレクトリに設定ファイルと説明ファイルを作成します。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt" align="center"><img border="0" src="images/browser4.gif" width="168" height="319"><p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　説明ファイルのトップページはBBS_KEYで設定したディレクトリのindex.htmlになります。また、同じディレクトリにbbsmenu.htmlというファイルが作成されます。このファイルはカテゴリ名称とボードへのリンクのみを記述した簡単な内容になっています。２ちゃんねるの閲覧をしない場合はこのファイルを２ちゃんねる専用ブラウザに設定する事で簡単にどのブラウザでも利用できるようになります・・・が、現実的では有りませんね。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　ボードの追加や削除、カテゴリの編集等をした場合はこの「専ブラ設定更新」を実行しましょう。<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt">　新しい２ちゃねる専用ブラウザが登場すればバージョンアップで対応するかもしれません・・・が、できればブラウザの側で対応して欲しいですね、画像の投稿にも対応してくれると嬉しいのですけど。<br>
        　また、作者はスマートフォンやMacOS、UNIX系のＯＳが使える状態には有りませんので、そちらの２ちゃんねる専用ブラウザの設定は追加できません。サポート掲示板で動作確認や設定画像の提供をしてくれる方が現れれば・・・<p style="line-height: 150%; margin-left: 20pt; margin-right: 5pt"><a href="delete.htm">レス削除/レス復活/投稿画像削除/レス透明削除</a>  
    </td>
  </tr>
  </table>
</div>

</body>

</html>
